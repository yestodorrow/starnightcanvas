<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            margin:0;
            padding:0;
            /* for default padding and margin */
        }
    </style>
</head>
<body>
    <canvas height="620" height="1360" id="canvas" style="position:absolute;height:100%"></canvas>


    <script>
        // 获取画布
        var canvas=document.getElementById("canvas");
        var ctx=canvas.getContext("2d");
        // 用变量存储鼠标位置
        var mousePos=[];



        //新建存储星星和 边的变量

        var node=[], edges=[];
        
        // 如果画布大小变化，需要重绘
        function renderAgain(){
            canvas.width=document.body.clientWidth;
            canvas.height=canvas.clientHeight;
            if(nodes.length==0){
                constructNodes()//这里是创建节点
            }
            render()//绘制节点
        }
        document.addEventListener("resize",function(){
            renderAgain()
        })

        // 随机创建节点
//它会与其他点连线，这样就实现了鼠标跟随的效果了。
        function constructNodes(){
            for(var i=0;i<100;i++){
                var node={
                    dirvenByMouse:i==0,
                    x:Math.random()*canvas.width,//宽度
                    y:Math.random()*canvas.height,//高度
                    vx:Math.random()*1-0.5,
                    vy:Math.random()*1-0.5,
                    radius:Math.random()>0.9?3+Math.random()*3:1+Math.random()*3//半径
                };
                nodes.push(node);

            }
            nodes.forEach(function(e){
                nodes.forEach(function(e2){
                    if(e==e2){
                        return
                    }
                    var edge={
                        from:e,
                        to:e2,
                    }
                    addEdge(edge)
                })
            })

        }

    </script>
</body>
</html>